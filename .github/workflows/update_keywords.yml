name:  자동 키워드 README 업데이트

# 워크플로우 트리거 조건
on:
  push:
    branches:
      - main  # 또는 기본 브랜치 이름 (e.g., master)
    paths:
      - 'keyword/w*-d*.txt' # keyword 폴더의 w*-d*.txt 파일이 변경될 때만 실행

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      # 1. 레포지토리 코드를 워크플로우 환경으로 가져옵니다.
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. Python 환경을 설정합니다.
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # 3. 스크립트를 실행하여 README.md 파일을 업데이트합니다.
      - name: Run script to update README
        run: python .github/scripts/generate_keywords.py

      # 4. 변경된 README.md 파일을 자동으로 커밋하고 푸시합니다.
      - name: Commit and push changes
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "docs(keyword): 키워드 README 자동 업데이트"
          file_pattern: keyword/README.md
          commit_user_name: github-actions[bot]
          commit_user_email: github-actions[bot]@users.noreply.github.com
          commit_author: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
